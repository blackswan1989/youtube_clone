extends layouts/main
include mixins/videoBlock

block content 
  .user-profile
    .user-profile__header
      img.avatar(src=user.avatarUrl) 
      //- (src=`/${user.avatarUrl}`) 
      .header__column
        .profile__column
          .profile__column--box
            <i class="far fa-user-circle"></i>
            h2.profile__name=user.name
          .profile__column--box
            <i class="far fa-envelope"></i>
            h2.profile__email=user.email
        if loggedUser && user.id === loggedUser.id
          .user-profile__btns
            a(href=`/users${routes.editProfile}`)
              button <i class="fas fa-user-edit"></i> Edit Profile
  //- .user-profile__videos
  //-   each item in user.videos
  //-     +videoBlock({
  //-         id:item.id,
  //-         title:item.title,
  //-         views:item.views,
  //-         videoFile:item.fileUrl
  //-     })

    
//- each item in user.videos에서 user는 userController의 res.render("userDetail", { pageTitle: "User Detail", user });에서의 user를 뜻함. 
//- models -> User -> "avatartUrl"을 의미

//- express.use는 미들웨어인데
//- 첫번째 인자로 경로 , 두번 째로 함수 가 들어갑니다
//- 경로를 생략하면 모든 경로에서 실행이 되고
//- 경로를 추가하면 i.e. /test 인 경우
//- /test/styles.css 정적 파일에 접근이 가능해요